--- 
- 
  box: scottyc/centos-7-puppet-kernel-4-4
  cpu: 1
  ip: "172.17.8.101"
  name: node-101
  forward_ports:
      - { guest: 8500, host: 9501 }
      - { guest: 80, host: 8001 }
      - { guest: 443, host: 8441 }
      - { guest: 8080, host: 8081 }
  ram: 4096
  shell_commands: 
      - { shell: yum install -y git wget curl lvm2 unzip device-mapper-libs && systemctl stop firewalld && systemctl disable firewalld }
      - { shell: 'echo -e "PEERDNS=no\nDNS1=127.0.0.1\nDNS2=8.8.8.8">>/etc/sysconfig/network-scripts/ifcfg-enp0s3 && systemctl restart network'}
      - { shell: /opt/puppet/bin/gem install r10k }
      - { shell: 'echo -e "172.17.8.101 node-101">/etc/hosts && echo "PATH=\$PATH:/usr/local/bin" >> ~/.bashrc' } 
      - { shell: cp /home/vagrant/node-101/Puppetfile /tmp && cd /tmp && /opt/puppet/bin/r10k puppetfile install -v }
      - { shell: cp /home/vagrant/node-101/modules/* -R /tmp/modules }

- 
  box: scottyc/centos-7-puppet-kernel-4-4 
  cpu: 1
  ip: "172.17.8.102"
  name: node-102
  forward_ports:
      - { guest: 8500, host: 9502 }
      - { guest: 80, host: 8002 }
      - { guest: 443, host: 8442 }
      - { guest: 8080, host: 8082 }
  ram: 4096
  shell_commands: 
      - { shell: yum install -y git wget curl lvm2 device-mapper-libs unzip && systemctl stop firewalld && systemctl disable firewalld  }
      - { shell: 'echo -e "PEERDNS=no\nDNS1=127.0.0.1\nDNS2=8.8.8.8">>/etc/sysconfig/network-scripts/ifcfg-enp0s3 && systemctl restart network'}
      - { shell: /opt/puppet/bin/gem install r10k }
      - { shell: 'echo -e "172.17.8.101 node-101\n172.17.8.102 node-102">/etc/hosts && echo "PATH=\$PATH:/usr/local/bin" >> ~/.bashrc' } 
      - { shell: cp /home/vagrant/node-102/Puppetfile /tmp && cd /tmp && /opt/puppet/bin/r10k puppetfile install -v }
      - { shell: cp /home/vagrant/node-102/modules/* -R /tmp/modules }
     
- 
  box: scottyc/centos-7-puppet-kernel-4-4 
  cpu: 1
  ip: "172.17.8.103"
  name: node-103
  forward_ports:
      - { guest: 8500, host: 9503 }
      - { guest: 80, host: 8003 }
      - { guest: 443, host: 8443 }
      - { guest: 8080, host: 8083 }
  ram: 4096
  shell_commands: 
      - { shell: yum install -y git wget curl lvm2 unzip device-mapper-libs && systemctl stop firewalld && systemctl disable firewalld  }
      - { shell: 'echo -e "PEERDNS=no\nDNS1=127.0.0.1\nDNS2=8.8.8.8">>/etc/sysconfig/network-scripts/ifcfg-enp0s3 && systemctl restart network'}
      - { shell: /opt/puppet/bin/gem install r10k }
      - { shell: 'echo -e "172.17.8.101 node-101\n172.17.8.103 node-103">/etc/hosts && echo "PATH=\$PATH:/usr/local/bin" >> ~/.bashrc' } 
      - { shell: cp /home/vagrant/node-103/Puppetfile /tmp && cd /tmp && /opt/puppet/bin/r10k puppetfile install -v }
      - { shell: cp /home/vagrant/node-103/modules/* -R /tmp/modules }
   
  
- 
  box: scottyc/centos-7-puppet-kernel-4-4 
  cpu: 1
  ip: "172.17.8.114"
  name: master-01
  forward_ports:
      - { guest: 8500, host: 9504 }
  ram: 2048
  shell_commands: 
      - { shell: yum install -y git wget curl lvm2 unzip device-mapper-libs && systemctl stop firewalld && systemctl disable firewalld  }
      - { shell: 'echo -e "PEERDNS=no\nDNS1=127.0.0.1\nDNS2=8.8.8.8">>/etc/sysconfig/network-scripts/ifcfg-enp0s3 && systemctl restart network'}
      - { shell: /opt/puppet/bin/gem install r10k }
      - { shell: 'echo -e "172.17.8.101 node-101\n172.17.8.114 master-01">/etc/hosts && echo "PATH=\$PATH:/usr/local/bin" >> ~/.bashrc' } 
      - { shell: cp /home/vagrant/master-01/Puppetfile /tmp && cd /tmp && /opt/puppet/bin/r10k puppetfile install -v }
      - { shell: cp /home/vagrant/master-01/modules/* -R /tmp/modules }

- 
  box: puppetlabs/centos-7.0-64-puppet-enterprise 
  cpu: 1
  ip: "172.17.8.115"
  name: master-02
  forward_ports:
      - { guest: 8500, host: 9505 }
  ram: 2048
  shell_commands: 
      - { shell: yum install -y git wget curl lvm2 unzip device-mapper-libs && systemctl stop firewalld && systemctl disable firewalld  }
      - { shell: 'echo -e "PEERDNS=no\nDNS1=127.0.0.1\nDNS2=8.8.8.8">>/etc/sysconfig/network-scripts/ifcfg-enp0s3 && systemctl restart network'}
      - { shell: /opt/puppet/bin/gem install r10k }
      - { shell: 'echo -e "172.17.8.101 node-101\n172.17.8.115 master-02">/etc/hosts && echo "PATH=\$PATH:/usr/local/bin" >> ~/.bashrc' } 
      - { shell: cp /home/vagrant/master-02/Puppetfile /tmp && cd /tmp && /opt/puppet/bin/r10k puppetfile install -v }
      - { shell: cp /home/vagrant/master-02/modules/* -R /tmp/modules }
   




